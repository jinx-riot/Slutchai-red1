import random

def generate_random_number():
    """Generate a random number between 1 and 100."""
    return random.randint(1, 100)

def check_guess(secret_number, guess):
    """
    Check if the guessed number matches the secret number.
    
    Args:
    - secret_number: The secret number generated by the program.
    - guess: The user's guessed number.
    
    Returns:
    - 'correct' if the guess is correct.
    - 'high' if the guess is too high.
    - 'low' if the guess is too low.
    """
    if guess == secret_number:
        return 'correct'
    elif guess < secret_number:
        return 'low'
    else:
        return 'high'

def main():
    print("Welcome to the Guess the Number game!")
    print("I've picked a random number between 1 and 100. Can you guess it?")

    secret_number = generate_random_number()
    attempts = 0

    while True:
        guess = int(input("Enter your guess: "))
        attempts += 1

        result = check_guess(secret_number, guess)

        if result == 'correct':
            print("Congratulations! You've guessed the number {} in {} attempts!".format(secret_number, attempts))
            break
        elif result == 'low':
            print("Too low! Try again.")
        else:
            print("Too high! Try again.")

if __name__ == "__main__":
    main()
